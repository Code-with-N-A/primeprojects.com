<!DOCTYPE html>
<html lang="hi">
<head>
  <meta charset="UTF-8" />
<title>Maths Notes | Prime Projects</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="title" content="Maths Notes Generator | Prime Projects">
<meta name="description" content="Create beautiful math notes with custom formatting, line control, and image insertion. Best free online note generator for Hindi, English, Math and Science.">

<!-- Open Graph / Facebook -->
<meta property="og:type" content="website">
<meta property="og:url" content="https://primeprojects.netlify.app/maths.html">
<meta property="og:title" content="Maths Notes Generator | Prime Projects">
<meta property="og:description" content="Create, format and manage handwritten-style math notes online. Insert images, manage text, and print your notes easily.">
<meta property="og:image" content="https://primeprojects.netlify.app/assets/preview-image.png"> <!-- Replace with your image -->

<!-- Twitter -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:url" content="https://primeprojects.netlify.app/maths.html">
<meta name="twitter:title" content="Maths Notes Generator | Prime Projects">
<meta name="twitter:description" content="Customizable online note generator with image support and multiple language formatting. Best for Hindi-English math learners.">
<meta name="twitter:image" content="https://primeprojects.netlify.app/assets/preview-image.png"> <!-- Replace with your image -->

<!-- SEO & Indexing -->
<meta name="robots" content="index, follow">
<meta name="keywords" content="Math Notes Generator, Maths Page Maker, Handwritten Notes Tool, Image Add in Notes, Hindi Math Notes, Online Math Worksheet Creator, Prime Projects Notes, Maths HTML Generator">
<meta name="author" content="Prime Projects">
<meta name="language" content="English">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Kalam&display=swap');
    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: 'Kalam', cursive;
      background: #fefcea;
      display: flex;
      flex-direction: column;
      align-items: center;
      
    }

    textarea {
      width: 360px;
      height: 140px;
      padding: 10px;
      font-size: 16px;
      border: 2px solid #333;
      font-family: 'Kalam', cursive;
      margin-bottom: 10px;
      resize: vertical;
      line-height: 1.5;
    }

    .controls {
      margin-bottom: 15px;
      position: relative;
    }

    .controls button {
      padding: 10px 20px;
      font-size: 16px;
      margin: 5px;
      background: #000;
      color: #fff;
      border: none;
      cursor: pointer;
      border-radius: 5px;
    }

    #loader {
      position: absolute;
      right: 15px;
      top: 50%;
      transform: translateY(-50%);
      display: none;
      font-size: 18px;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      0% { transform: translateY(-50%) rotate(0deg); }
      100% { transform: translateY(-50%) rotate(360deg); }
    }

    .page-container {
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .note-page {
      width: 360px;
      height: 640px;
      background: #fff;
      border: 1px solid #aaa;
      padding: 20px 15px;
      margin: 10px 0;
      box-shadow: 0 0 5px rgba(0,0,0,0.2);
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      position: relative;
    }

    .top-bar {
      display: flex;
      justify-content: space-between;
      margin-bottom: 10px;
      font-weight: bold;
      flex-wrap: wrap;
      gap: 10px;
    }

    .top-bar div {
      flex: 1;
      min-width: 80px;
    }

    .top-bar input {
      font-family: 'Kalam', cursive;
      font-size: 14px;
      background: transparent;
      border: none;
      border-bottom: 1px solid #000;
      width: 100%;
    }

   .note-lines {
      flex-grow: 1;
      display: flex;
      flex-direction: column;
    }

    .note-line {
     
      height: calc(100% / 21);
      display: flex;
      align-items: flex-start;
    }

    .note-line span {
      font-size: 15px;
      width: 100%;
      word-break: break-word;
      white-space: pre-wrap;
      line-height: 1;
      padding: 0;
      margin: 0;
      position: relative;
      cursor: pointer;
    }

 .hindi,
.english {
  font-family: 'Kalam', cursive;
  color: #012b80;
  font-size: 15px;
  position: relative;
  top: 0px;
}

.number {
  font-family: 'Courier New', monospace;
  color: #000;
  font-size: 15px;
  position: relative;
  top: 0px;
}

.math {
  font-family: 'Cambria Math', 'Times New Roman', serif;
  color: #0a508c;
  font-size: 16px;
  position: relative;
  top: 0px;
}

.bolded {
  font-weight: bold;
  color: #000000;
}


    .signature-line {
      text-align: right;
      font-size: 7px;
      margin-top: 10px;
      font-weight: bold;
      color: #888888;
    }
  </style>
</head>
<body>
    <h2 style="background-color: #040135; color: #fff;width: 100%;padding: 15px; margin-bottom:5px; margin-top: 0; text-align: center; ;">Notebook Notes Maker - Maths </h2>
<span  style="cursor: pointer; color: #007bff; text-decoration: underline;"> Click here to write notes in
    <a style="color: red;" href="notse_English.html">English</a>
    <a style="color: red;" href="notse_to_pdf.html">Hindi</a>
</span>
<div style="position: relative; display: inline-block;">
  <textarea id="inputText" placeholder="âœï¸ Type your notes..." style="padding-right: 35px;"></textarea>
  <button id="clearBtn" onclick="handleXClick()" style="display: none; position: absolute; top: 8px; right: 8px; background: red; color: white; border: none; border-radius: 50%; width: 24px; height: 24px; cursor: pointer;">Ã—</button>
</div>

<!-- ðŸ“ Notes-style Popup -->
<div id="popup" style="display:none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
     background-color: rgba(0, 0, 0, 0.4); z-index: 999; display: flex; align-items: center; justify-content: center;">
  <div style="background: #fffef0; border: 2px dashed #d8b32d; padding: 30px; border-radius: 12px; box-shadow: 0 6px 15px rgba(0,0,0,0.2); max-width: 320px; width: 90%; font-family: 'Segoe UI', sans-serif;">
    <h3 style="color: #333; margin-bottom: 15px; font-weight: bold;">Clear Notes?</h3>
    <p style="font-size: 15px; color: #444; margin-bottom: 25px;">Are you sure you want to clear all the text?</p>
    <div style="text-align: right;">
      <button onclick="confirmClear()" style="background-color: #ff4d4d; color: white; border: none; padding: 8px 16px; border-radius: 6px; margin-right: 10px; cursor: pointer;">Yes</button>
      <button onclick="cancelClear()" style="background-color: #555; color: white; border: none; padding: 8px 16px; border-radius: 6px; cursor: pointer;">Cancel</button>
    </div>
  </div>
</div>



<div class="controls">
  <button id="generateBtn" onclick="generateNotes()">Generate Notes</button>
  <button id="downloadBtn" onclick="downloadPDF()">Download PDF</button>
  <span id="loader">ðŸ”„</span>
</div>

<div class="page-container" id="pageContainer"></div>

<script>
 const LINES_PER_PAGE = 21;

function getTextType(text) {
  const hindiRegex = /[\u0900-\u097F]/;
  const numberOnlyRegex = /^[0-9\s.,\-+*/=()]+$/;

  // Math symbols, operators, Greek, sets, geometry, calculus â€“ ultra complete
const mathRegex = /(?:\\[a-zA-Z]+(?:\{[^{}]*\})*|[a-zA-Z_][a-zA-Z0-9_]*|[0-9]+(?:\.[0-9]+)?|[\u0370-\u03FF\u1D400-\u1D7FF\u2100-\u214F\u2200-\u22FF\u27C0-\u27EF\u2A00-\u2AFF\u2980-\u29FF\u2300-\u23FF\u2190-\u21FF\u25A0-\u25FF\u20D0-\u20FF\uFE00-\uFE0F])(?:[+\-*/^=<>|&%!:Â·âˆšâˆ‘âˆ«âˆ†âˆ‡âˆ‚âˆˆâˆ‰âˆªâˆ©âˆ…âŠ‚âŠƒâŠ†âŠ‡âŠ„âŠ…âˆ§âˆ¨Â¬âŠ•âŠ—âŠ™âŠ˜âŠ–âŠžâŠŸâŠ âŠ¡âˆ´âˆµâˆ“âˆ”âˆ•âˆ™âˆ âˆ¡âˆ¢âˆŸâŠ¾âŠ¿Â°â€²â€³â€´â‰¡â‰…â‰ˆâ‰ â‰¬â‰®â‰¯â‰¤â‰¥â‰ªâ‰«âˆ½âˆâ‰Œâ‰Šâ‰ƒâ‰‡â‰‰âŠ¨âŠ©âŠ¬âŠ­âˆ¶âˆ·â‹…â‹®â‹¯â‹°â‹±âŠ»âŠ¼âŠ½âŠ²âŠ³âŠ°âŠ±â‹€â‹â‹‚â‹ƒâ‹„â‹†â‹‡â‹ˆâ‹‰â‹Šâ‹‹â‹Œâ‹â‹Žâ‹â‹â‹‘â‹’â‹“â‹”â‹•â‹–â‹—â‹˜â‹™â‹šâ‹›â‹œâ‹â‹žâ‹Ÿâ‹ â‹¡â‹¢â‹£â‹¤â‹¥â‹¦â‹§â‹¨â‹©â‹ªâ‹«â‹¬â‹­âŸ‚âŸƒâŸ„âŸ†âŸ‡âŸ’âŸ“âŸ”âŸ•âŸ–âŸ—âŸ˜âŸ™âŸšâŸ›âŸœâŸâŸžâŸŸâŸ âŸ¡âŸ¢âŸ£âŸ¤âŸ¥âŸ¦âŸ§âŸ¨âŸ©âŸªâŸ«âŸ¬âŸ­âŸ®âŸ¯âŸ°âŸ±â†’â†â†”â‡Œâ‡”â‡’â‡âˆ€âˆƒâˆžâŠ¥âˆ¥âŠ¢âŠ£âŠ©âŠªâŠ«âŠ¬âŠ­âŠ®âŠ¯âŠ°âŠ±âŠ²âŠ³âŠ´âŠµâŠ¶âŠ·âŠ¸âŠ¹âŠºâŠ»âŠ¼âŠ½âŠ¾âŠ¿â‹€â‹â‹‚â‹ƒâ‹„]+)?/g;

  if (hindiRegex.test(text)) return "hindi";
  if (mathRegex.test(text)) return "math";
  if (numberOnlyRegex.test(text)) return "number";
  return "english";
}

function generateNotes() {
  const container = document.getElementById("pageContainer");
  container.innerHTML = "";
  const input = document.getElementById("inputText").value;
  const rawLines = input.split('\n');
  const lines = [];

  const measureWidth = (text, type) => {
    const span = document.createElement("span");
    span.style.visibility = "hidden";
    span.style.position = "absolute";
    span.style.whiteSpace = "nowrap";
    span.style.fontSize = "15px";
    span.style.fontFamily =
      type === "hindi" || type === "english"
        ? "'Kalam', cursive"
        : type === "number"
        ? "'Courier New', monospace"
        : "'Cambria Math', serif";
    span.innerText = text;
    document.body.appendChild(span);
    const width = span.offsetWidth;
    document.body.removeChild(span);
    return width;
  };

  for (let rawLine of rawLines) {
    if (rawLine.trim() === "") {
      lines.push("");
      continue;
    }
    const words = rawLine.trim().split(/\s+/);
    let currentLine = "";
    for (let word of words) {
      const testLine = currentLine ? currentLine + " " + word : word;
      const type = getTextType(testLine);
      const lineWidth = measureWidth(testLine, type);
      if (lineWidth < 320) {
        currentLine = testLine;
      } else {
        if (currentLine) lines.push(currentLine);
        currentLine = word;
      }
    }
    if (currentLine) lines.push(currentLine);
  }

  const totalPages = Math.ceil(lines.length / LINES_PER_PAGE);
  for (let p = 0; p < totalPages; p++) {
    const page = document.createElement("div");
    page.className = "note-page";
    const topBar = document.createElement("div");
    topBar.className = "top-bar";
    topBar.innerHTML = `
      <div>Exp: <input type="text" /></div>
      <div>Page No.: <input type="text" value="${p + 1}" /></div>
      <div>Date: <input type="date" value="${new Date().toISOString().split('T')[0]}" /></div>`;
    page.appendChild(topBar);

    const noteLines = document.createElement("div");
    noteLines.className = "note-lines";

    for (let i = 0; i < LINES_PER_PAGE; i++) {
      const idx = p * LINES_PER_PAGE + i;
      const lineText = lines[idx] || "";
      const type = getTextType(lineText);
      const lineDiv = document.createElement("div");
      lineDiv.className = "note-line";
      const span = document.createElement("span");
      span.innerText = lineText;
      span.className = type;
      span.onclick = () => span.classList.toggle("bolded");
      lineDiv.appendChild(span);
      noteLines.appendChild(lineDiv);
    }

    const signature = document.createElement("div");
    signature.className = "signature-line";
    signature.innerText = "https://primeprojects.netlify.app/";

    page.appendChild(noteLines);
    page.appendChild(signature);
    container.appendChild(page);
  }
}


  async function downloadPDF() {
    const { jsPDF } = window.jspdf;
    const pdf = new jsPDF({ orientation: "portrait", unit: "pt", format: "a4" });

    const pages = document.querySelectorAll(".note-page");
    const loader = document.getElementById("loader");
    const downloadBtn = document.getElementById("downloadBtn");
    downloadBtn.disabled = true;
    loader.style.display = "inline-block";

    for (let i = 0; i < pages.length; i++) {
      const canvas = await html2canvas(pages[i], { scale: 2 });
      const imgData = canvas.toDataURL("image/png");

      if (i > 0) pdf.addPage();
      pdf.addImage(imgData, "PNG", 0, 0, 595.28, 841.89);
    }

    pdf.save("Notebook_Notes.pdf");

    loader.style.display = "none";
    downloadBtn.disabled = false;
  }



      const textarea = document.getElementById("inputText");
  const clearBtn = document.getElementById("clearBtn");
  const popup = document.getElementById("popup");

  // Load saved text on page load
  window.onload = () => {
    const saved = localStorage.getItem("maths") || "";
    textarea.value = saved;
    toggleClearBtn(saved);
  };

  // Save to localStorage on input
  textarea.addEventListener("input", () => {
    localStorage.setItem("maths", textarea.value);
    toggleClearBtn(textarea.value);
  });

  // Toggle X button visibility
  function toggleClearBtn(value) {
    clearBtn.style.display = value.trim() ? "block" : "none";
  }

  // X button clicked
  function handleXClick() {
    // Popup should show only if not already shown this session
    const popupShown = sessionStorage.getItem("popupShown");
    if (!popupShown) {
      popup.style.display = "flex";
      sessionStorage.setItem("popupShown", "true");
    } else {
      confirmClear(); // Already seen, directly clear
    }
  }

  // Confirm clear
  function confirmClear() {
    textarea.value = "";
    localStorage.removeItem("maths");
    toggleClearBtn("");
    popup.style.display = "none";
    sessionStorage.removeItem("popupShown"); // allow it again next click
  }

  // Cancel clear
  function cancelClear() {
    popup.style.display = "none";
  }
</script>

</body>
</html>

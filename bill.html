<!DOCTYPE html>
<html lang="en">
<head>
    
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6N0JHLBDCE"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-6N0JHLBDCE');
</script>

<meta name="description" content="Prime Projects provides various types of bills in both image and PDF formats. Get easy access to all kinds of billing solutions online.">
<meta name="keywords" content="bills, online bill generation, PDF bill, image bill, billing solutions, Prime Projects, bill generation website">
<meta name="author" content="Prime Projects">
<meta name="robots" content="index, follow">
<meta charset="UTF-8">
<meta charset="UTF-8">
<link rel="icon" href="img/favicon-32x32.png" type="image/png" sizes="32x32">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta property="og:title" content="Prime Projects - Billing Solutions">
<meta property="og:description" content="Prime Projects offers online billing solutions in image and PDF formats. Access all types of bills easily on our platform.">
<meta property="og:url" content="https://primeprojects.netlify.app/">
<meta property="og:image" content="URL_to_your_image.jpg">
<meta property="og:type" content="website">
<meta property="og:site_name" content="Prime Projects">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Prime Projects - Billing Solutions">
<meta name="twitter:description" content="Prime Projects offers online billing solutions in image and PDF formats. Access all types of bills easily on our platform.">
<meta name="twitter:image" content="URL_to_your_image.jpg">
<meta name="robots" content="index, follow">
<meta name="description" content="Get all types of bills in image and PDF formats at Prime Projects. Our platform allows you to generate and download bills quickly.">
<meta name="keywords" content="generate bill, bill download, bill image, bill PDF, online bill, billing system, customizable bills, billing solutions">
<meta property="og:type" content="website">
<meta property="og:title" content="Prime Projects - Your One-Stop Billing Solution">
<meta property="og:description" content="Prime Projects offers customizable bill generation services in both image and PDF formats, making it easier for you to handle all types of bills.">
<meta property="og:url" content="https://primeprojects.netlify.app/">
<meta name="twitter:title" content="Prime Projects - Billing Solutions for All">
<meta name="twitter:description" content="Prime Projects allows you to generate bills in image and PDF formats. Get all kinds of bills created online easily.">
<meta name="robots" content="index, follow">
<meta name="description" content="Download your bills in PDF format from Prime Projects. We offer quick and easy access to your billing documents.">
<meta name="keywords" content="PDF bill, download PDF, billing PDF, online bill PDF, generate bill PDF">
<meta property="og:type" content="document">
<meta property="og:title" content="Download PDF Bills - Prime Projects">
<meta property="og:description" content="Generate and download your bills in PDF format easily from Prime Projects. Fast, secure, and reliable service.">
<meta property="og:url" content="https://primeprojects.netlify.app/">
<meta name="twitter:title" content="Download PDF Bills - Prime Projects">
<meta name="twitter:description" content="Generate and download PDF bills effortlessly at Prime Projects. All types of bills available online.">
<meta name="robots" content="index, follow">
<meta name="description" content="Generate and download image-based bills from Prime Projects. Easy access to all types of bills in image format.">
<meta name="keywords" content="image bill, download image bill, billing image, online image bill, generate image bill">
<meta property="og:type" content="image">
<meta property="og:title" content="Download Image Bills - Prime Projects">
<meta property="og:description" content="Create and download bills in image format quickly and easily from Prime Projects. All types of bills available in image format.">
<meta property="og:url" content="https://primeprojects.netlify.app/">
<meta name="twitter:title" content="Download Image Bills - Prime Projects">
<meta name="twitter:description" content="Generate and download image-based bills from Prime Projects. Simple, fast, and secure.">
<meta name="description" content="Prime Projects offers fully customizable billing solutions. Generate bills in both image and PDF formats. Tailored for all types of billing needs.">
<meta name="keywords" content="customizable bills, tailor-made bills, online bill customization, generate bills online, all types of bills">
<meta property="og:type" content="website">
<meta property="og:title" content="Prime Projects - Customizable Billing Solutions">
<meta property="og:description" content="Create and customize your bills online in both image and PDF formats. Prime Projects provides a wide range of billing options.">
<meta property="og:url" content="https://primeprojects.netlify.app/">
<meta name="twitter:title" content="Prime Projects - Customizable Bills Online">
<meta name="twitter:description" content="Create your custom bills in image and PDF formats at Prime Projects. A complete billing solution for your needs.">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta charset="UTF-8">
<meta name="robots" content="index, follow">
<meta name="author" content="Prime Projects">
<meta property="og:image" content="URL_to_image_or_logo.jpg">
<meta property="og:url" content="https://primeprojects.netlify.app/">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Prime Projects - Easy Online Billing">
<meta name="twitter:description" content="Prime Projects offers easy online billing in image and PDF formats. Fast and reliable billing solutions.">
<meta name="twitter:image" content="URL_to_image_or_logo.jpg">

    <title> Bill Generate with Dynamic Columns, Discount, GST, and PDF Export</title>
    <!-- jsPDF Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <!-- jsPDF AutoTable plugin -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.26/jspdf.plugin.autotable.min.js"></script>

    <style>
        *{
            margin: 0;
            padding: 0;
        }
       
        /* Basic styles for the table and other elements */
        table {
            width: 100%;
            border-collapse: collapse;
        }

        th, td {
            padding: 8px;
            text-align: center;
            border: 1px solid black;  /* Black border for table cells */
        }

        th {
            background-color: #f2f2f2;
        }

        /* Responsiveness and scroll */
        .table-container {
            overflow-x: auto;  /* Allow horizontal scrolling */
            -webkit-overflow-scrolling: touch; /* Smooth scrolling for iOS */
        }

        button {
            margin-top: 10px;
        }

        /* Media Queries for responsiveness */
        @media (max-width: 768px) {
            th, td {
                padding: 6px;
                font-size: 12px;
            }

            input[type="text"], input[type="number"] {
                font-size: 12px;
                padding: 5px;
            }

            button {
                font-size: 14px;
                padding: 8px 12px;
            }

            .table-container {
                padding-bottom: 20px;  /* Space for horizontal scroll bar */
            }
        }

        @media (max-width: 480px) {
            th, td {
                padding: 4px;
                font-size: 10px;
            }

            input[type="text"], input[type="number"] {
                font-size: 10px;
                padding: 4px;
            }

            button {
                font-size: 12px;
                padding: 6px 10px;
            }
        }
        .first{
           display: grid;
            margin-top:30px ;
        }
        .men{
            margin: 10px;
        }
    </style>
</head>
<body>
   <script src="gon_oder.js"></script>
    <h1 style="text-align: center; color:rgb(255, 255, 255); background-color: black;padding: 50px;">bill Generate</h1>
    
 <div class="men">
    <!-- Input fields for Dukaan Name, Phone Number, Address, Bill Name, Discount, and GST -->
    <div class="first">
        <label for="shopName">Dukaan Name: </label>
        <input type="text" id="shopName" placeholder="Enter Dukaan Name"><br><br>
        
        <label for="phoneNumber">Phone Number: </label>
        <input type="text" id="phoneNumber" placeholder="Enter Phone Number"><br><br>
        
        <label for="address">Address: </label>
        <input type="text" id="address" placeholder="Enter Address"><br><br>
        
        <label for="billName">Bill Name: </label>
        <input type="text" id="billName" placeholder="Enter Bill Name"><br><br>
        
        <label for="discount">Discount (%): </label>
        <input type="number" id="discount" value="0"><br><br>
        
        <label for="gst">GST (%): </label>
        <input type="number" id="gst" value="0"><br><br>
        
       
    </div>

    <!-- Table Container to make the table scrollable -->
    <div class="table-container">
        <!-- Table for Items -->
        <table id="invoiceTable">
            <thead id="tableHead">
                <tr>
                    <th>NO.</th>
                    <th>Item</th>
                    <th>Price</th>
                    <th>Quantity</th>
                    <th>Total</th>
                </tr>
            </thead>
            <tbody id="tableBody">
                <!-- Rows will be added here dynamically -->
            </tbody>
        </table>
    </div>

    <!-- Add Row and Column buttons -->
    <button onclick="addRow()">Add Row</button>
    <button onclick="addColumn()">Add Column</button>
    
    <!-- Grand Total display -->
    <div>
        <p id="grandTotal">Grand Total: 0</p>
    </div>

    <!-- Button to download PDF -->
    <button onclick="calculateTotal()">Calculate Total</button>
    <button onclick="downloadPDF()">Download PDF</button>
    <button><a href="normlexl-bill.html">Excel</a></button>
</div>
    <script>
        // Store column headers dynamically
        let dynamicHeaders = ['NO.', 'Item', 'Price', 'Quantity', 'Total'];

        // Function to add a new column with heading
        function addColumn() {
            let columnName = prompt("Enter column name:");
            if (columnName !== '') {
                // Add new column to table head (same row as other headings)
                let th = document.createElement("th");
                th.textContent = columnName;
                document.getElementById("tableHead").rows[0].appendChild(th); // Append to the same row

                // Add input field for new column to each row in tbody
                let rows = document.getElementById("tableBody").rows;
                for (let i = 0; i < rows.length; i++) {
                    let td = document.createElement("td");
                    let input = document.createElement("input");
                    input.type = "text";  // You can change input type as needed
                    td.appendChild(input);
                    rows[i].appendChild(td);
                }

                // Add the new column name to dynamicHeaders for PDF export
                dynamicHeaders.push(columnName);
            } else {
                alert("Please enter a column name");
            }
        }

        // Function to add a new row
        function addRow() {
            let tableBody = document.getElementById("tableBody");
            let row = document.createElement("tr");

            // Add Row Number
            let rowNumberCell = document.createElement("td");
            rowNumberCell.textContent = tableBody.rows.length + 1;  // Automatically increment row number
            row.appendChild(rowNumberCell);

            // Add default columns (Item, Price, Quantity, Total)
            let itemCell = document.createElement("td");
            let itemInput = document.createElement("input");
            itemInput.type = "text";
            itemCell.appendChild(itemInput);
            row.appendChild(itemCell);

            let priceCell = document.createElement("td");
            let priceInput = document.createElement("input");
            priceInput.type = "number";
            priceCell.appendChild(priceInput);
            row.appendChild(priceCell);

            let quantityCell = document.createElement("td");
            let quantityInput = document.createElement("input");
            quantityInput.type = "number";
            quantityCell.appendChild(quantityInput);
            row.appendChild(quantityCell);

            let totalCell = document.createElement("td");
            let totalInput = document.createElement("input");
            totalInput.type = "number";
            totalInput.readOnly = true;
            totalCell.appendChild(totalInput);
            row.appendChild(totalCell);

            // If any extra columns are added, add empty inputs for them (in the same row)
            for (let i = 5; i < dynamicHeaders.length; i++) {
                let extraCell = document.createElement("td");
                let extraInput = document.createElement("input");
                extraInput.type = "text";  // You can customize the input type as needed
                extraCell.appendChild(extraInput);
                row.appendChild(extraCell);
            }

            tableBody.appendChild(row);
        }

        // Function to calculate total for each row and grand total, including discount and GST
        function calculateTotal() {
            let rows = document.getElementById("tableBody").rows;
            let grandTotal = 0;

            for (let i = 0; i < rows.length; i++) {
                let price = rows[i].cells[2].querySelector('input').value;
                let quantity = rows[i].cells[3].querySelector('input').value;

                let total = price * quantity;
                rows[i].cells[4].querySelector('input').value = total;

                grandTotal += total;
            }

            // Get discount and GST values from inputs
            let discount = document.getElementById("discount").value;
            let gst = document.getElementById("gst").value;

            // Apply discount (percentage reduction)
            if (discount > 0) {
                grandTotal -= (grandTotal * discount) / 100;
            }

            // Apply GST (percentage increase)
            if (gst > 0) {
                grandTotal += (grandTotal * gst) / 100;
            }

            // Update grand total
            document.getElementById("grandTotal").textContent = "Grand Total: " + grandTotal.toFixed(2);
        }

        // Function to download the table as a PDF with proper formatting
        function downloadPDF() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();

            // Get Dukaan Name, Phone Number, Address, and Bill Name from the input fields
            let shopName = document.getElementById("shopName").value;
            let phoneNumber = document.getElementById("phoneNumber").value;
            let address = document.getElementById("address").value;
            let billName = document.getElementById("billName").value;

            // Add shop details to PDF
            doc.text(shopName, doc.internal.pageSize.width / 2, 20, null, null, 'center');
            doc.text('Phone: ' + phoneNumber, doc.internal.pageSize.width / 2, 30, null, null, 'center');
            doc.text('Address: ' + address, doc.internal.pageSize.width / 2, 40, null, null, 'center');
            doc.text('Bill Name: ' + billName, doc.internal.pageSize.width / 2, 50, null, null, 'center');

            // Add a small space before the table
            doc.autoTable({
                startY: 60,
                head: [dynamicHeaders],  // Dynamic headers
                body: Array.from(document.getElementById("tableBody").rows).map((row, index) => {
                    let rowData = [index + 1];  // Add row number
                    for (let i = 1; i < row.cells.length; i++) {
                        rowData.push(row.cells[i].querySelector('input').value);  // Get each cell's value
                    }
                    return rowData;
                }),
                styles: { fontSize: 10, overflow: 'linebreak' }
            });

            // Add Discount, GST, and Grand Total at the bottom left
            let discount = document.getElementById("discount").value;
            let gst = document.getElementById("gst").value;
            let grandTotal = parseFloat(document.getElementById("grandTotal").textContent.replace('Grand Total: ', ''));

            doc.text('Discount: ' + discount + '%', 10, doc.lastAutoTable.finalY + 10);
            doc.text('GST: ' + gst + '%', 10, doc.lastAutoTable.finalY + 20);
            doc.text('Grand Total: ' + grandTotal.toFixed(2), 10, doc.lastAutoTable.finalY + 30);

            // Add Date, Month, and Time
            let currentDate = new Date();
            let formattedDate = currentDate.toLocaleDateString('en-IN');
            let formattedTime = currentDate.toLocaleTimeString('en-IN');
            doc.text('Date: ' + formattedDate + ' Time: ' + formattedTime, 10, doc.lastAutoTable.finalY + 40);

            // Save the generated PDF
            doc.save('Invoice.pdf');
        }
    </script>

</body>
</html>

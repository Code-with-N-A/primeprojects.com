<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-6N0JHLBDCE"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-6N0JHLBDCE");
    </script>

    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>
      Images 5G PDF - Convert & Optimize Images to PDF | PrimeProjects
    </title>
    <meta
      name="description"
      content="Prime Projects offers free coding courses in all programming languages, project management tools, task manager, salary records, PDF to image conversion, coding blogs, and more. Learn coding and manage tasks effectively with practical tools and resources."
    />

    <!-- Keywords for SEO -->
    <meta
      name="keywords"
      content="coding courses, free coding projects, programming languages, bill management, task manager, PDF to image conversion, coding blogs, salary records, project management, task tracking, Prime Projects"
    />

    <!-- Author -->
    <meta name="author" content="Prime Projects" />

    <!-- Open Graph Meta Tags (For Social Media Sharing) -->
    <meta
      property="og:title"
      content="Prime Projects - Free Coding Courses and Projects"
    />
    <meta
      property="og:description"
      content="Explore free coding courses, projects, and tools to enhance your productivity, including task managers, PDF converters, salary record management, and more."
    />
    <meta
      property="og:image"
      content="https://primeprojects.netlify.app/img/favicon-32x32.png"
    />
    <!-- This image is your logo -->
    <meta property="og:url" content="https://primeprojects.netlify.app/" />
    <meta property="og:type" content="website" />

    <!-- Twitter Meta Tags -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta
      name="twitter:title"
      content="Prime Projects - Free Coding Courses and Projects"
    />
    <meta
      name="twitter:description"
      content="Learn programming for free with various courses and tools, including task management and salary record tracking."
    />
    <meta
      name="twitter:image"
      content="https://primeprojects.netlify.app/img/favicon-32x32.png"
    />

    <!-- Favicon -->
    <link
      rel="icon"
      href="https://primeprojects.netlify.app/img/favicon-32x32.png"
      type="image/png"
    />
    <link
      rel="apple-touch-icon"
      href="https://primeprojects.netlify.app/img/favicon-32x32.png"
    />

    <!-- Additional SEO Meta Tags -->
    <meta name="robots" content="index, follow" />
    <meta name="googlebot" content="index, follow" />
    <meta
      name="msapplication-TileImage"
      content="https://primeprojects.netlify.app/img/favicon-32x32.png"
    />

    <!-- Canonical URL -->
    <link rel="canonical" href="https://primeprojects.netlify.app/" />

    <!-- Schema Markup (Structured Data for SEO) -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "Prime Projects",
        "url": "https://primeprojects.netlify.app/",
        "logo": "https://primeprojects.netlify.app/img/favicon-32x32.png",
        "sameAs": [
          "https://www.facebook.com/primeprojects",
          "https://twitter.com/primeprojects",
          "https://www.linkedin.com/company/primeprojects"
        ],
        "description": "Prime Projects offers free coding courses in various languages, tools for project management, and more."
      }
    </script>

    <!-- Additional Structured Data (for Reviews, Courses, and Projects) -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Course",
        "name": "Free Programming Courses",
        "description": "Learn coding with free courses in Python, JavaScript, HTML, and more at Prime Projects.",
        "provider": {
          "@type": "Organization",
          "name": "Prime Projects",
          "url": "https://primeprojects.netlify.app/"
        }
      }
    </script>

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
    />

    <style>
      /* Base Styles â€“ Default for Desktop */
      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: #f0f2f5;
        margin: 0;
        padding: 40px 20px;
        color: #202124;
        display: flex;
        flex-direction: column;
        align-items: center;
      }

      h1 {
        margin-top: 40px;
        margin-bottom: 5px;
        text-align: center;
        font-size: 28px;
        color: #1a73e8;
        word-wrap: break-word;
        user-select: none;
      }

      .subtitle {
        margin-top: 0;
        margin-bottom: 15px;
        text-align: center;
        font-size: 18px;
        color: #5f6368;
        word-wrap: break-word;
        user-select: none;
      }

      .container {
        background: #fff;
        padding: 24px 20px;
        border-radius: 8px;
        max-width: 720px;
        width: 100%;
        box-shadow: 0 8px 24px rgba(32, 33, 36, 0.28);
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 16px;
      }

      input[type="text"] {
        width: 100%;
        padding: 12px 16px;
        font-size: 1rem;
        border: 2px solid #dfe1e5;
        border-radius: 8px;
        outline: none;
        transition: border-color 0.3s ease;
        box-sizing: border-box;
      }

      input[type="text"]:focus {
        border-color: #1a73e8;
        box-shadow: 0 0 0 3px rgba(26, 115, 232, 0.2);
      }

      #imageInput {
        padding: 14px 20px;
        border: 2.5px dashed #dfe1e5;
        border-radius: 12px;
        background: #fafafa;
        cursor: pointer;
        font-weight: 600;
        color: #3c4043;
        width: 90%;
        text-align: center;
        font-size: 1.1rem;
        outline-offset: 4px;
        transition: border-color 0.3s ease, background-color 0.3s ease;
      }

      #imageInput:hover {
        border-color: #1a73e8;
        background-color: #f1f3f4;
        color: #1a73e8;
      }

      #preview {
        display: flex;
        flex-wrap: nowrap;
        align-items: center;
        justify-content: center;
        overflow-x: auto;
        max-width: 100%;
        gap: 16px;
        margin-bottom: 10px;
        padding-bottom: 8px;
        user-select: none;
      }

      .img-wrap {
        flex: 0 0 auto;
        width: 130px;
        height: 130px;
        border-radius: 14px;
        box-shadow: 0 4px 10px rgba(60, 64, 67, 0.15);
        overflow: hidden;
        display: flex;
        align-items: center;
        justify-content: center;
        background: white;
        cursor: default;
        transition: transform 0.25s ease;
      }

      .img-wrap:hover {
        transform: scale(1.07);
        box-shadow: 0 8px 16px rgba(26, 115, 232, 0.35);
        z-index: 10;
      }

      .img-wrap img {
        max-width: 100%;
        max-height: 100%;
        object-fit: contain;
        user-select: none;
      }

      #generateBtn {
        background: #1a73e8;
        border: none;
        color: white;
        font-weight: 700;
        font-size: 1.2rem;
        padding: 14px 40px;
        border-radius: 30px;
        cursor: pointer;
        box-shadow: 0 4px 14px rgba(26, 115, 232, 0.4);
        transition: background-color 0.3s ease, box-shadow 0.3s ease;
        user-select: none;
        margin-top: 5px;
      }

      #generateBtn:disabled {
        background: #a8c0f0;
        cursor: not-allowed;
        box-shadow: none;
      }

      #generateBtn:hover:not(:disabled) {
        background: #155ab6;
        box-shadow: 0 6px 20px rgba(21, 90, 182, 0.6);
      }

      #pdfPreview {
        margin-top: 30px;
        border: 1px solid #ddd;
        width: 100%;
        max-width: 720px;
        height: 540px;
        border-radius: 12px;
        box-shadow: 0 8px 24px rgba(32, 33, 36, 0.15);
        display: none;
        overflow: auto;
      }

      /* Loader */
      .loader-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(255, 255, 255, 0.8);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.3s ease;
      }

      .loader-overlay.show {
        opacity: 1;
        pointer-events: all;
      }

      .spinner {
        border: 6px solid #dfe1e5;
        border-top: 6px solid #1a73e8;
        border-radius: 50%;
        width: 60px;
        height: 60px;
        animation: spin 1s linear infinite;
      }

      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      /* ======================= */
      /* ðŸ“± Mobile < 480px       */
      /* ======================= */
      @media (max-width: 480px) {
        h1 {
          font-size: 22px;
        }

        .subtitle {
          font-size: 15px;
        }

        .container {
          padding: 20px 14px;
        }

        input[type="text"],
        #imageInput {
          font-size: 1rem;
          padding: 10px 14px;
        }

        #generateBtn {
          font-size: 1rem;
          padding: 12px 30px;
        }

        .img-wrap {
          width: 100px;
          height: 100px;
        }

        #pdfPreview {
          height: 400px;
        }
      }

      /* ======================= */
      /* ðŸ“± iPhone 6+ (375â€“428px) */
      /* ======================= */
      @media (min-width: 375px) and (max-width: 428px) {
        h1 {
          font-size: 24px;
        }

        .container {
          padding: 18px;
        }

        .img-wrap {
          width: 110px;
          height: 110px;
        }
      }

      /* ======================= */
      /* ðŸ“± Tablets (iPads) */
      /* ======================= */
      @media (min-width: 600px) and (max-width: 1024px) {
        .container {
          padding: 26px 32px;
        }

        h1 {
          font-size: 26px;
        }

        .subtitle {
          font-size: 16px;
        }

        #generateBtn {
          font-size: 1.1rem;
        }

        #pdfPreview {
          height: 480px;
        }
      }

      /* ======================= */
      /* ðŸ’» Large Screens > 1200px */
      /* ======================= */
      @media (min-width: 1200px) {
        .container {
          max-width: 800px;
        }

        #pdfPreview {
          height: 600px;
        }
      }
    </style>
  </head>

  <body>
    <script src="sin.js"></script>
    <link rel="stylesheet" href="loder.css" />
    <script src="loder.js"></script>

    <!-- Loader -->
    <div id="load-screen">
      <div class="circle-animation"></div>
      <div class="loading-text">primeprojects...</div>
    </div>

    <!-- Heading -->
    <h1
      style="
        margin-top: 40px;
        margin-bottom: 5px;
        text-align: center;
        font-size: 28px;
        word-wrap: break-word;
      "
    >
      Image to PDF Generator
    </h1>
    <p
      class="subtitle"
      style="
        margin-top: 0px;
        margin-bottom: 15px;
        text-align: center;
        font-size: 18px;
        word-wrap: break-word;
      "
    >
      Upload images, enter headings, preview, generate PDF.
    </p>

    <div
      class="container"
      style="background: #fff; padding: 15px; border-radius: 8px"
    >
      <input type="text" id="heading1" placeholder="Enter Main Heading (H1)" />
      <input type="text" id="heading3" placeholder="Enter Sub Heading (H3)" />
      <input type="file" id="imageInput" accept="image/*" multiple />
      <div id="preview"></div>
      <button id="generateBtn" disabled>Generate PDF</button>
      <iframe id="pdfPreview" title="PDF Preview"></iframe>
    </div>

    <div class="loader-overlay" id="loader">
      <div class="spinner"></div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script>
      const { jsPDF } = window.jspdf;
      const imageInput = document.getElementById("imageInput");
      const preview = document.getElementById("preview");
      const generateBtn = document.getElementById("generateBtn");
      const loader = document.getElementById("loader");
      const heading1Input = document.getElementById("heading1");
      const heading3Input = document.getElementById("heading3");

      let imageFiles = [];

      function showLoader() {
        loader.classList.add("show");
      }

      function hideLoader() {
        loader.classList.remove("show");
      }

      imageInput.addEventListener("change", async () => {
        preview.innerHTML = "";
        imageFiles = Array.from(imageInput.files);
        generateBtn.disabled = imageFiles.length === 0;

        if (imageFiles.length === 0) return;

        showLoader();
        for (let i = 0; i < imageFiles.length; i++) {
          const file = imageFiles[i];
          const wrap = document.createElement("div");
          wrap.classList.add("img-wrap");

          const img = document.createElement("img");
          img.src = URL.createObjectURL(file);
          wrap.appendChild(img);
          preview.appendChild(wrap);
        }
        hideLoader();
      });

      generateBtn.addEventListener("click", async () => {
        if (imageFiles.length === 0) {
          alert("Please select at least one image.");
          return;
        }

        showLoader();

        const pxToMm = 0.264583;
        const maxPageWidth = 210;
        const usableTextWidth = maxPageWidth - 40; // 20mm margin on both sides
        let totalHeight = 10;
        const marginBetween = 10;
        const topMargin = 15;
        const numberFontSize = 12;
        const headingGap = 10;
        const sideMargin = 10;

        const heading1 = heading1Input.value.trim();
        const heading3 = heading3Input.value.trim();

        const imgs = [];
        let avgColor = [255, 255, 255];

        for (let i = 0; i < imageFiles.length; i++) {
          const file = imageFiles[i];
          const dataUrl = await fileToDataURL(file);
          const img = await loadImage(dataUrl);
          const brightDataUrl = await enhanceBrightnessAndContrast(
            img,
            1.9,
            1.1
          );
          const brightImg = await loadImage(brightDataUrl);

          if (i === 0) {
            avgColor = await getAverageColor(brightImg);
          }

          let imgWidth = brightImg.width * pxToMm;
          let imgHeight = brightImg.height * pxToMm;

          if (imgWidth > maxPageWidth - 2 * sideMargin) {
            const ratio = (maxPageWidth - 2 * sideMargin) / imgWidth;
            imgWidth *= ratio;
            imgHeight *= ratio;
          }

          imgs.push({ img: brightImg, width: imgWidth, height: imgHeight });
          totalHeight += imgHeight + marginBetween;
        }

        totalHeight += topMargin + headingGap * 2;

        const pdf = new jsPDF({
          unit: "mm",
          format: [maxPageWidth, totalHeight],
          compress: true,
        });

        pdf.setFillColor(...avgColor);
        pdf.rect(0, 0, maxPageWidth, totalHeight, "F");

        const textColor = getContrastTextColor(avgColor);
        let currentY = topMargin;

        pdf.setTextColor(...textColor);
        pdf.setFont("helvetica", "bold");

        // Heading 1
        pdf.setFontSize(25);
        if (heading1) {
          const lines1 = pdf.splitTextToSize(heading1, usableTextWidth);
          pdf.text(lines1, maxPageWidth / 2, currentY, { align: "center" });
          currentY += lines1.length * 9 + 4; // 9mm line height approx.
        }

        // Heading 3
        pdf.setFontSize(20);
        if (heading3) {
          const lines3 = pdf.splitTextToSize(heading3, usableTextWidth);
          pdf.text(lines3, maxPageWidth / 2, currentY, { align: "center" });
          currentY += lines3.length * 8 + 4; // 8mm line height approx.
        }

        pdf.setFontSize(numberFontSize);

        for (let i = 0; i < imgs.length; i++) {
          const { img, width, height } = imgs[i];
          const xImg = (maxPageWidth - width) / 2;
          pdf.addImage(img, "JPEG", xImg, currentY, width, height);

          const label = `${i + 1}`;
          const rightTextX = maxPageWidth - 12;
          const numberY = currentY + 6;
          pdf.text(label, rightTextX, numberY, { align: "right" });

          currentY += height + marginBetween;
        }

        const pdfBlob = pdf.output("blob");
        const url = URL.createObjectURL(pdfBlob);
        const a = document.createElement("a");
        a.href = url;
        a.download = "converted_images.pdf";
        a.click();

        hideLoader();
      });

      function fileToDataURL(file) {
        return new Promise((resolve) => {
          const reader = new FileReader();
          reader.onload = (e) => resolve(e.target.result);
          reader.readAsDataURL(file);
        });
      }

      function loadImage(src) {
        return new Promise((resolve) => {
          const img = new Image();
          img.onload = () => resolve(img);
          img.src = src;
        });
      }

      function enhanceBrightnessAndContrast(
        img,
        brightnessFactor = 1.9,
        contrastFactor = 1.1
      ) {
        return new Promise((resolve) => {
          const canvas = document.createElement("canvas");
          const ctx = canvas.getContext("2d");
          canvas.width = img.width;
          canvas.height = img.height;

          ctx.drawImage(img, 0, 0);
          const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
          const data = imageData.data;

          for (let i = 0; i < data.length; i += 4) {
            let r = data[i] * brightnessFactor;
            let g = data[i + 1] * brightnessFactor;
            let b = data[i + 2] * brightnessFactor;

            r = ((r / 300 - 0.5) * contrastFactor + 0.5) * 255;
            g = ((g / 300 - 0.5) * contrastFactor + 0.5) * 255;
            b = ((b / 300 - 0.5) * contrastFactor + 0.5) * 255;

            data[i] = Math.min(255, Math.max(0, r));
            data[i + 1] = Math.min(255, Math.max(0, g));
            data[i + 2] = Math.min(255, Math.max(0, b));
          }

          ctx.putImageData(imageData, 0, 0);
          resolve(canvas.toDataURL("image/jpeg", 0.85));
        });
      }

      function getAverageColor(img) {
        return new Promise((resolve) => {
          const canvas = document.createElement("canvas");
          const ctx = canvas.getContext("2d");
          canvas.width = img.width;
          canvas.height = img.height;
          ctx.drawImage(img, 0, 0);

          const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
          const data = imageData.data;
          let r = 0,
            g = 0,
            b = 0,
            count = 0;

          for (let i = 0; i < data.length; i += 4) {
            r += data[i];
            g += data[i + 1];
            b += data[i + 2];
            count++;
          }

          resolve([
            Math.round(r / count),
            Math.round(g / count),
            Math.round(b / count),
          ]);
        });
      }

      function getContrastTextColor([r, g, b]) {
        const luminance = 0.299 * r + 0.587 * g + 0.114 * b;
        return luminance > 160 ? [30, 30, 30] : [255, 255, 255];
      }
    </script>
  </body>
</html>
